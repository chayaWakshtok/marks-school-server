(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{IbxU:function(e,t,r){"use strict";r.r(t),r.d(t,"AuthModule",function(){return P});var n=r("ofXK"),o=r("tyNb"),i=r("3Pt+"),a=r("fXoL"),c=r("IYfF");let s=(()=>{class e{constructor(e,t,r){this.router=e,this.route=t,this.authService=r,this.form=new i.d({tz:new i.b("",[i.o.required,i.o.minLength(9)]),password:new i.b("",[i.o.required,i.o.minLength(5)])}),this.authService.userValue&&this.router.navigate([""])}ngOnInit(){}login(){this.authService.login(this.form.controls.tz.value,this.form.controls.password.value).subscribe({next:e=>{let t=this.route.snapshot.queryParams.returnUrl||"/manager";"SECRETARY"==e.role&&(t="secretary"),"TEACHER"==e.role&&(t="teacher"),this.router.navigateByUrl(t)},error:e=>{console.log(e)}})}register(){this.router.navigate(["register"])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(o.c),a.Mb(o.a),a.Mb(c.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-login"]],decls:36,vars:1,consts:[[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-10","mx-auto"],[1,"card-group"],[1,"card","p-4","border-cus1"],[1,"card-body"],[3,"formGroup"],[1,"text-muted"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"icon-user"],["type","text","placeholder","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea","autocomplete","username","required","","formControlName","tz",1,"form-control"],[1,"input-group","mb-0"],[1,"icon-lock"],["type","password","placeholder","\u05e1\u05d9\u05e1\u05de\u05d4","autocomplete","current-password","required","","formControlName","password",1,"form-control"],[1,"row","mb-4"],[1,"col-7"],[1,"col-6"],["type","button",1,"btn","btn-primary","px-4",3,"click"],[1,"col-6",2,"text-align","left"],["type","button",1,"btn","bg-light-primary","px-4",3,"click"],[1,"card","card-gray","py-5","d-md-down-none","border-cus",2,"width","44%"],[1,"card-body","text-center"],["width","300","height","230","src","../../../../assets/login.png",1,"img-fluid"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"main",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"div",4),a.Sb(5,"div",5),a.Sb(6,"div",6),a.Sb(7,"div",7),a.Sb(8,"form",8),a.Sb(9,"h1"),a.Ec(10,"\u05db\u05e0\u05d9\u05e1\u05d4"),a.Rb(),a.Sb(11,"p",9),a.Ec(12,"\u05db\u05e0\u05d9\u05e1\u05d4 \u05dc\u05d7\u05e9\u05d1\u05d5\u05df \u05e9\u05dc\u05da"),a.Rb(),a.Sb(13,"div",10),a.Sb(14,"div",11),a.Sb(15,"span",12),a.Nb(16,"i",13),a.Rb(),a.Rb(),a.Nb(17,"input",14),a.Rb(),a.Sb(18,"div",15),a.Sb(19,"div",11),a.Sb(20,"span",12),a.Nb(21,"i",16),a.Rb(),a.Rb(),a.Nb(22,"input",17),a.Rb(),a.Sb(23,"div",18),a.Nb(24,"div",19),a.Rb(),a.Sb(25,"div",3),a.Sb(26,"div",20),a.Sb(27,"button",21),a.Zb("click",function(){return t.login()}),a.Ec(28,"\u05db\u05e0\u05d9\u05e1\u05d4"),a.Rb(),a.Rb(),a.Sb(29,"div",22),a.Sb(30,"button",23),a.Zb("click",function(){return t.register()}),a.Ec(31,"\u05d4\u05e8\u05e9\u05de\u05d4"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Sb(32,"div",24),a.Sb(33,"div",25),a.Sb(34,"div"),a.Nb(35,"img",26),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Ab(8),a.jc("formGroup",t.form))},directives:[i.p,i.j,i.e,i.a,i.n,i.i,i.c],styles:["form[_ngcontent-%COMP%]{text-align:justify}.invalid-feedback[_ngcontent-%COMP%]{display:block!important}.form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid{padding-right:calc(1.5em + -.25rem)!important;padding-left:18px!important;background-position:right calc(.375em + .1875rem) center;background-position:left 8px center}button.btn.bg-light-primary.px-4[_ngcontent-%COMP%], button.btn.btn-primary.px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.card-gray[_ngcontent-%COMP%]{background-color:#f5f5f5}.border-cus[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;border-bottom-right-radius:0!important}.border-cus1[_ngcontent-%COMP%]{border-top-right-radius:.25rem!important;border-top-left-radius:0!important;border-bottom-left-radius:0!important;border-bottom-right-radius:.25rem!important}"]}),e})();var l=r("IQE8"),d=r("NlNA"),p=r("XNiG");const u=["payPalButtonContainer"];let b=(()=>{class e{constructor(e){this.zone=e}registerScript(e,t,r){const n=window[t];if(n)return void this.zone.run(()=>{r(n)});const o=document.createElement("script");o.id=this.getElemId(t),o.innerHTML="",o.onload=()=>{this.zone.run(()=>{r(window[t])})},o.src=e,o.async=!0,o.defer=!0,document.getElementsByTagName("head")[0].appendChild(o)}cleanup(e){const t=document.getElementById(this.getElemId(e));t&&t.remove()}getElemId(e){return`ngx-paypal-script-elem-${e}`}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.A))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac}),e})(),m=(()=>{class e{constructor(e){this.scriptService=e,this.paypalWindowName="paypal"}registerPayPalScript(e,t){this.scriptService.registerScript(this.getUrlForConfig(e),this.paypalWindowName,t)}destroyPayPalScript(){this.scriptService.cleanup(this.paypalWindowName)}getUrlForConfig(e){const t=[{name:"client-id",value:e.clientId}];return e.currency&&t.push({name:"currency",value:e.currency}),e.commit&&t.push({name:"commit",value:e.commit}),e.vault&&t.push({name:"vault",value:e.vault}),e.extraParams&&t.push(...e.extraParams),`https://www.paypal.com/sdk/js${this.getQueryString(t)}`}getQueryString(e){let t="";for(let r=0;r<e.length;r++){const n=e[r];t+=0===r?"?":"&",t+=`${n.name}=${n.value}`}return t}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(b))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac}),e})(),h=(()=>{class e{constructor(e,t,r){this.paypalScriptService=e,this.cdr=t,this.ngZone=r,this.registerScript=!0,this.scriptLoaded=new a.n,this.ngUnsubscribe=new p.a,this.initializePayPal=!0}set payPalButtonContainer(e){this.payPalButtonContainerElem=e}ngOnChanges(e){this.payPalButtonContainerId||(this.payPalButtonContainerId=this.generateElementId());const t=this.config;e.config.isFirstChange()&&t&&this.registerScript&&this.initPayPalScript(t,e=>{this.payPal=e,this.doPayPalCheck()}),e.config.isFirstChange()||this.reinitialize(t)}ngOnDestroy(){this.paypalScriptService.destroyPayPalScript(),this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}ngAfterViewInit(){this.doPayPalCheck()}customInit(e){this.payPal=e,this.doPayPalCheck()}reinitialize(e){if(this.config=e,this.payPal=void 0,this.paypalScriptService.destroyPayPalScript(),this.payPalButtonContainerId=this.generateElementId(),this.initializePayPal=!0,this.payPalButtonContainerElem)for(;this.payPalButtonContainerElem.nativeElement.firstChild;)this.payPalButtonContainerElem.nativeElement.removeChild(this.payPalButtonContainerElem.nativeElement.firstChild);this.cdr.detectChanges(),this.config&&(this.payPal?this.doPayPalCheck():this.initPayPalScript(this.config,e=>{this.payPal=e,this.doPayPalCheck()}))}doPayPalCheck(){this.initializePayPal&&this.config&&this.payPal&&this.payPalButtonContainerElem&&this.payPalButtonContainerElem.nativeElement.id&&(this.initializePayPal=!1,this.initPayPal(this.config,this.payPal))}initPayPalScript(e,t){this.paypalScriptService.registerPayPalScript({clientId:e.clientId,commit:e.advanced&&e.advanced.commit?e.advanced.commit:void 0,currency:e.currency,vault:e.vault,extraParams:e.advanced&&e.advanced.extraQueryParams?e.advanced.extraQueryParams:[]},e=>{this.scriptLoaded.next(e),t(e)})}generateElementId(){return`ngx-captcha-id-${(new Date).valueOf()}`}initPayPal(e,t){this.ngZone.runOutsideAngular(()=>{const r=Object.assign(Object.assign(Object.assign({style:e.style,onApprove:(t,r)=>this.ngZone.run(()=>{if(e.onApprove&&e.onApprove(t,r),e.authorizeOnServer)return e.authorizeOnServer(t,r);const n=e.onClientAuthorization;n&&r.order.capture().then(e=>{this.ngZone.run(()=>{n(e)})})}),onError:t=>{this.ngZone.run(()=>{e.onError&&e.onError(t)})},onCancel:(t,r)=>{this.ngZone.run(()=>{e.onCancel&&e.onCancel(t,r)})},onClick:(t,r)=>{this.ngZone.run(()=>{e.onClick&&e.onClick(t,r)})},onInit:(t,r)=>{this.ngZone.run(()=>{e.onInit&&e.onInit(t,r)})}},(e.createOrderOnClient||e.createOrderOnServer)&&{createOrder:(t,r)=>this.ngZone.run(()=>{if(e.createOrderOnClient&&e.createOrderOnServer)throw Error("Both 'createOrderOnClient' and 'createOrderOnServer' are defined.\n                    Please choose one or the other.");if(!e.createOrderOnClient&&!e.createOrderOnServer)throw Error("Neither 'createOrderOnClient' or 'createOrderOnServer' are defined.\n                    Please define one of these to create order.");if(e.createOrderOnClient)return r.order.create(e.createOrderOnClient(t));if(e.createOrderOnServer)return e.createOrderOnServer(t);throw Error("Invalid state for 'createOrder'.")})}),e.createSubscription&&{createSubscription:(t,r)=>this.ngZone.run(()=>{if(e.createSubscription)return e.createSubscription(t,r)})}),e.onShippingChange&&{onShippingChange:(t,r)=>this.ngZone.run(()=>{if(e.onShippingChange)return e.onShippingChange(t,r)})});t.Buttons(r).render(`#${this.payPalButtonContainerId}`)})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(m),a.Mb(a.h),a.Mb(a.A))},e.\u0275cmp=a.Gb({type:e,selectors:[["ngx-paypal"]],viewQuery:function(e,t){if(1&e&&a.Ic(u,1),2&e){let e;a.uc(e=a.ac())&&(t.payPalButtonContainer=e.first)}},inputs:{registerScript:"registerScript",config:"config"},outputs:{scriptLoaded:"scriptLoaded"},features:[a.yb],decls:2,vars:1,consts:[[3,"id"],["payPalButtonContainer",""]],template:function(e,t){1&e&&a.Nb(0,"div",0,1),2&e&&a.jc("id",t.payPalButtonContainerId)},encapsulation:2,changeDetection:0}),e})(),g=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},providers:[b,m],imports:[[n.c]]}),e})();function f(e,t){1&e&&(a.Sb(0,"div"),a.Ec(1,"\u05e9\u05dd \u05e9\u05d3\u05d4 \u05d7\u05d5\u05d1\u05d4."),a.Rb())}function v(e,t){1&e&&(a.Sb(0,"div"),a.Ec(1,"\u05e9\u05dd \u05d7\u05d9\u05d1 \u05dc\u05d4\u05db\u05d9\u05dc \u05dc\u05e4\u05d7\u05d5\u05ea 3 \u05ea\u05d5\u05d5\u05d9\u05dd."),a.Rb())}function y(e,t){if(1&e&&(a.Sb(0,"div",32),a.Cc(1,f,2,0,"div",33),a.Cc(2,v,2,0,"div",33),a.Rb()),2&e){const e=a.cc();a.Ab(1),a.jc("ngIf",e.f.nameSchool.errors.required),a.Ab(1),a.jc("ngIf",e.f.nameSchool.errors.minlength)}}const S=function(e){return{"is-invalid":e}},C=[{path:"register",data:{title:"Register"},component:(()=>{class e{constructor(e,t){this.authService=e,this.rouetr=t,this.form=new i.d({nameSchool:new i.b("",[i.o.required,i.o.minLength(2)]),code:new i.b("",[i.o.required]),address:new i.b("",[i.o.required,i.o.minLength(2)]),city:new i.b("",[i.o.required,i.o.minLength(2)]),nameManager:new i.b("",[i.o.required,i.o.minLength(2)]),tz:new i.b("",[i.o.required,i.o.minLength(9)]),password:new i.b("",[i.o.required,i.o.minLength(5)]),confirmPassword:new i.b("",[i.o.required,i.o.minLength(5)]),phone:new i.b("",[i.o.required,i.o.minLength(7)]),email:new i.b("",[i.o.required,i.o.email])})}ngOnInit(){this.initConfig("1000")}initConfig(e){this.payPalConfig={currency:"ILS",clientId:"AZ--qfIbtAW1th-Q10-YGRiz_WICkcTqKCS-XHafQ7CB21iEVOZmFZVMwHWCKQLJEE7VHNWiXD_SAzLf",createOrderOnClient:t=>({intent:"CAPTURE",purchase_units:[{amount:{currency_code:"ILS",value:e,breakdown:{item_total:{currency_code:"ILS",value:e}}},items:[{name:"\u05d4\u05e8\u05e9\u05de\u05d4 \u05dc\u05e9\u05e8\u05d5\u05ea \u05e6\u05d9\u05d5\u05e0\u05d9\u05dd",quantity:"1",category:"DIGITAL_GOODS",unit_amount:{currency_code:"ILS",value:e}}]}]}),advanced:{commit:"true"},style:{label:"paypal",layout:"vertical"},onApprove:(e,t)=>{console.log("onApprove - transaction was approved, but not authorized",e,t),t.order.get().then(e=>{console.log("onApprove - you can get full order details inside onApprove: ",e)})},onClientAuthorization:e=>{this.paymentCode=e.id,console.log("onClientAuthorization - you should probably inform your server about completed transaction at this point",e),this.showSuccess=!0},onCancel:(e,t)=>{console.log("OnCancel",e,t),this.showCancel=!0},onError:e=>{console.log("OnError",e),this.showError=!0},onClick:(e,t)=>{console.log("onClick",e,t),this.resetStatus()},onInit:(e,t)=>{console.log("onInit",e,t)}}}resetStatus(){this.showError=!1,this.showSuccess=!1,this.showCancel=!1}get f(){return this.form.controls}register(){var e=new d.a;e.email=this.form.controls.email.value,e.name=this.form.controls.nameManager.value,e.password=this.form.controls.password.value,e.phone=this.form.controls.phone.value,e.tzId=this.form.controls.tz.value,e.role="manager",e.school=new l.a,e.school.address=this.form.controls.address.value,e.school.city=this.form.controls.city.value,e.school.code=this.form.controls.code.value,e.school.name=this.form.controls.nameSchool.value,e.school.paymentCode=this.paymentCode,this.authService.register(e).subscribe(e=>{this.rouetr.navigate(["/manager"])})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(c.a),a.Mb(o.c))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-register"]],decls:73,vars:6,consts:[[1,"app-body"],[1,"main","d-flex","align-items-center"],[1,"container"],[1,"row"],[1,"col-md-10","mx-auto"],[1,"card","mx-4"],[1,"card-body","p-4"],["name","form",3,"formGroup"],[1,"text-muted"],[1,"form-group","row"],[1,"input-group","mb-3","col"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"icon-briefcase"],["type","text","formControlName","nameSchool","placeholder","\u05e9\u05dd \u05de\u05d5\u05e1\u05d3","autocomplete","username","required","",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","code","placeholder","\u05e7\u05d5\u05d3 \u05de\u05d5\u05e1\u05d3","autocomplete","email","required","",1,"form-control"],[1,"input-group","mb-4","col"],[1,"icon-location-pin"],["type","text","formControlName","address","placeholder","\u05db\u05ea\u05d5\u05d1\u05ea","autocomplete","username","required","",1,"form-control"],["type","text","formControlName","city","placeholder","\u05e2\u05d9\u05e8","autocomplete","new-password","required","",1,"form-control"],[1,"icon-user"],["type","text","formControlName","nameManager","placeholder","\u05e9\u05dd","autocomplete","new-password","required","",1,"form-control"],["type","text","formControlName","tz","placeholder","\u05ea\u05e2\u05d5\u05d3\u05ea \u05d6\u05d4\u05d5\u05ea","autocomplete","new-password","required","",1,"form-control"],[1,"icon-lock"],["type","password","formControlName","password","placeholder","\u05e1\u05d9\u05e1\u05de\u05d4","autocomplete","new-password","required","",1,"form-control"],["type","password","formControlName","confirmPassword","placeholder","\u05d0\u05d9\u05de\u05d5\u05ea \u05e1\u05d9\u05e1\u05de\u05d4","autocomplete","new-password","required","",1,"form-control"],[1,"icon-phone"],["type","password","formControlName","phone","placeholder","\u05e4\u05dc\u05d0\u05e4\u05d5\u05df","autocomplete","new-password","required","",1,"form-control"],["type","email","formControlName","email","placeholder","\u05de\u05d9\u05d9\u05dc","autocomplete","new-password","required","",1,"form-control"],[2,"margin","auto","text-align","center",3,"config"],["type","button",1,"btn","btn-block","btn-primary",3,"click"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(e,t){1&e&&(a.Sb(0,"div",0),a.Sb(1,"main",1),a.Sb(2,"div",2),a.Sb(3,"div",3),a.Sb(4,"div",4),a.Sb(5,"div",5),a.Sb(6,"div",6),a.Sb(7,"form",7),a.Sb(8,"h1"),a.Ec(9,"\u05d4\u05e8\u05e9\u05de\u05d4"),a.Rb(),a.Sb(10,"p",8),a.Ec(11,"\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05d5\u05e1\u05d3 \u05d7\u05d3\u05e9"),a.Rb(),a.Sb(12,"div",9),a.Sb(13,"div",10),a.Sb(14,"div",11),a.Sb(15,"span",12),a.Nb(16,"i",13),a.Rb(),a.Rb(),a.Nb(17,"input",14),a.Cc(18,y,3,2,"div",15),a.Rb(),a.Sb(19,"div",10),a.Sb(20,"div",11),a.Sb(21,"span",12),a.Nb(22,"i",13),a.Rb(),a.Rb(),a.Nb(23,"input",16),a.Rb(),a.Rb(),a.Sb(24,"div",9),a.Sb(25,"div",17),a.Sb(26,"div",11),a.Sb(27,"span",12),a.Nb(28,"i",18),a.Rb(),a.Rb(),a.Nb(29,"input",19),a.Rb(),a.Sb(30,"div",17),a.Sb(31,"div",11),a.Sb(32,"span",12),a.Nb(33,"i",18),a.Rb(),a.Rb(),a.Nb(34,"input",20),a.Rb(),a.Rb(),a.Sb(35,"p",8),a.Ec(36,"\u05d9\u05e6\u05d9\u05e8\u05ea \u05de\u05e0\u05d4\u05dc \u05e8\u05d0\u05e9\u05d9"),a.Rb(),a.Sb(37,"div",9),a.Sb(38,"div",17),a.Sb(39,"div",11),a.Sb(40,"span",12),a.Nb(41,"i",21),a.Rb(),a.Rb(),a.Nb(42,"input",22),a.Rb(),a.Sb(43,"div",17),a.Sb(44,"div",11),a.Sb(45,"span",12),a.Nb(46,"i",21),a.Rb(),a.Rb(),a.Nb(47,"input",23),a.Rb(),a.Rb(),a.Sb(48,"div",9),a.Sb(49,"div",17),a.Sb(50,"div",11),a.Sb(51,"span",12),a.Nb(52,"i",24),a.Rb(),a.Rb(),a.Nb(53,"input",25),a.Rb(),a.Sb(54,"div",17),a.Sb(55,"div",11),a.Sb(56,"span",12),a.Nb(57,"i",24),a.Rb(),a.Rb(),a.Nb(58,"input",26),a.Rb(),a.Rb(),a.Sb(59,"div",9),a.Sb(60,"div",17),a.Sb(61,"div",11),a.Sb(62,"span",12),a.Nb(63,"i",27),a.Rb(),a.Rb(),a.Nb(64,"input",28),a.Rb(),a.Sb(65,"div",17),a.Sb(66,"div",11),a.Sb(67,"span",12),a.Ec(68,"@"),a.Rb(),a.Rb(),a.Nb(69,"input",29),a.Rb(),a.Rb(),a.Nb(70,"ngx-paypal",30),a.Sb(71,"button",31),a.Zb("click",function(){return t.register()}),a.Ec(72,"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d7\u05e9\u05d1\u05d5\u05df"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Ab(7),a.jc("formGroup",t.form),a.Ab(10),a.jc("ngClass",a.mc(4,S,t.f.nameSchool.touched&&t.f.nameSchool.invalid)),a.Ab(1),a.jc("ngIf",t.f.nameSchool.touched&&t.f.nameSchool.invalid),a.Ab(52),a.jc("config",t.payPalConfig))},directives:[i.p,i.j,i.e,i.a,i.i,i.c,i.n,n.j,n.l,h],styles:["form[_ngcontent-%COMP%]{text-align:justify}.invalid-feedback[_ngcontent-%COMP%]{display:block!important}.form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid{padding-right:calc(1.5em + -.25rem)!important;padding-left:18px!important;background-position:right calc(.375em + .1875rem) center;background-position:left 8px center}"]}),e})()},{path:"",data:{title:"Login"},component:s},{path:"login",data:{title:"Login"},component:s}];let w=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(C)],o.g]}),e})(),P=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[n.c,w,g,i.m]]}),e})()}}]);